<!DOCTYPE html>
<html lang="ru">
  <head>
    <title>Сайт-вдохновение</title>
    <link href="css/main-theme.css" rel="stylesheet">
    <script id="quotes_json" type="application/json">
      [
        {
          "phrase": "Кукурузные хлопья - теперь без асбеста!",
          "signature": "Неизвестный маркетолог"
        },
        {
          "phrase": "Собираюсь жить вечно, пока всё идёт нормально"
        },
        {
          "phrase": "Вывеска над кафе — '\u003cМы открылись\u003e'. Что-то не так. Где же '\u003c/Мы открылись\u003e'?"
        },
        {
          "phrase": "Если ты будешь усердно работать по 8 часов в день, то обязательно станешь боссом и начнешь работать по 12"
        }
      ]
    </script>
  </head>
  <body>
    <div>
      <span id="js-quote-phrase"></span>
      <br>
      <span id="js-quote-signature"></span>
    </div>
    <script>
      Array.prototype.randomElement = function() {
            return this[Math.floor(Math.random() * this.length)]
      }
      function getFormatterSignature(quote_signature) {
        if (typeof quote_signature === "undefined") {
          return "";
        }
        return "— " + quote_signature
      }
      var json_quotes = document.getElementById("quotes_json");
      var quotes = JSON.parse(json_quotes.textContent);
      var random_quote = quotes.randomElement();
      var formatted_phrase = "“" + random_quote["phrase"] + "”"
      var formatted_signature = getFormatterSignature(random_quote["signature"])
      document.getElementById("js-quote-phrase").textContent = formatted_phrase
      document.getElementById("js-quote-signature").textContent = formatted_signature
    </script>
  </body>
</html>
